!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=g["default"].keyboard(32);P=new M(O.qibi.texture),_.addChild(P),S=new j(_,P),P.y=S.baseline-P.height,P.x=S.pointLine,t.press=function(){return P.jump()},t.release=function(){return P.jump()},r()}function r(){"over"===S.state?console.log(S.point):requestAnimationFrame(r),S.update(),m.render(w)}var s=n(23),u=i(s),a=n(29),c=i(a),f=n(28),l=i(f),h=n(26),p=i(h),d=n(27),y=i(d);n(53),n(18);var v=n(19),b=i(v),x=n(20),g=i(x),m=PIXI.autoDetectRenderer(1e3,360,{transparent:!0}),w=new PIXI.Container,_=(new b["default"].Container3d,new PIXI.Container),O=PIXI.loader.resources,S=void 0,P=void 0;document.body.appendChild(m.view),w.addChild(_),PIXI.loader.add("qibi","./img/qibi.png").add("box","./img/box.png").load(o);var j=function(){function t(e,n){(0,p["default"])(this,t),this.player=n,this.con=e,this.state="ready",this.globalSpeed=10,this.baseline=m.height-60,this.pointLine=100,this.obstacles=[],this.point=0,this.level=0,this.levelPoint=[1e4,15e3,3e4,4e4],this.pointText=new PIXI.Text("0000",{fontFamily:"Arial",fontSize:16,fill:"white"}),this.pointText.x=m.width-100,this.pointText.y=20,this.con.addChild(this.pointText)}return(0,y["default"])(t,[{key:"play",value:function(){this.state="playing"}},{key:"over",value:function(){this.state="over",console.log("over")}},{key:"update",value:function(){var t=this;if("over"===this.state)return!1;if(this.point+=this.globalSpeed,this.player.update(),this.obstacles.length>0){var e=this.obstacles.slice(-1)[0];this.pointLine+300-e.x>=0&&this.addObstacle(),e.x<=this.pointLine&&this.addcout>this.point&&this.point++}else this.addObstacle();this.obstacles.forEach(function(e){e.update(),g["default"].hitTest(t.player,e)&&t.over()}),this.pointText.text=parseInt(this.point/50),this.levelUp()}},{key:"addObstacle",value:function(){var t=new I(O.box.texture,this);_.addChild(t),this.obstacles.push(t)}},{key:"levelUp",value:function(){this.levelPoint[this.level+1]||this.levelPoint.push(10*this.levelPoint.slice(-1)[0]),this.point>=this.levelPoint[this.level]&&this.level++,this.globalSpeed=10+3*this.level}}]),t}(),M=function(t){function e(t){(0,p["default"])(this,e);var n=(0,c["default"])(this,(0,u["default"])(e).call(this,t));return n.animeSpeed=1,n.vy=0,n.maxJump=150,n.state="run",n.oriY=n.y,n}return(0,l["default"])(e,t),(0,y["default"])(e,[{key:"jump",value:function(){"run"==this.state&&(this.state="jumpUp",this.vy=-this.maxJump/10,this.oriY=this.y)}},{key:"update",value:function(){var t=this.y+this.vy,e=t-this.oriY+this.maxJump;this.vy<0?(this.vy=-e/10,this.vy<-1||(this.vy=-1)):this.vy>0&&(this.vy=e/10,this.vy>1||(this.vy=1)),"jumpUp"===this.state&&t<=this.oriY-this.maxJump?(this.state="jumpDown",this.vy=-this.vy):"jumpDown"===this.state&&t>=this.oriY&&(this.state="run",this.vy=0,t=this.oriY),this.y=t+this.vy}}]),e}(PIXI.Sprite),I=function(t){function e(t,n){(0,p["default"])(this,e);var i=(0,c["default"])(this,(0,u["default"])(e).call(this,t));return i.x=m.width+500*Math.random(),i.y=n.baseline-i.height,n.level>=1&&Math.random()>.9&&(i.y-=150),i.vx=n.globalSpeed||1,i}return(0,l["default"])(e,t),(0,y["default"])(e,[{key:"update",value:function(){this.x-=this.vx,this.x<=-100&&(w.removeChild(this),S.obstacles.splice(S.obstacles.indexOf(this),1))}}]),e}(PIXI.Sprite)},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(3),o=n(2),r=n(9),s="prototype",u=function(t,e,n){var a,c,f,l=t&u.F,h=t&u.G,p=t&u.S,d=t&u.P,y=t&u.B,v=t&u.W,b=h?o:o[e]||(o[e]={}),x=h?i:p?i[e]:(i[e]||{})[s];h&&(n=e);for(a in n)c=!l&&x&&a in x,c&&a in b||(f=c?x[a]:n[a],b[a]=h&&"function"!=typeof x[a]?n[a]:y&&c?r(f,i):v&&x[a]==f?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[s]=t[s],e}(f):d&&"function"==typeof f?r(Function.call,f):f,d&&((b[s]||(b[s]={}))[a]=f))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,t.exports=u},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var i=n(40),o=n(10);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(13);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(36);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(3),o="__core-js_shared__",r=i[o]||(i[o]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(15)("wks"),o=n(16),r=n(3).Symbol;t.exports=function(t){return i[t]||(i[t]=r&&r[t]||(r||o)("Symbol."+t))}},function(t,e){t.exports=PIXI},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(18);var i=function(){this.view=new PIXI.DisplayObjectContainer,this.children=[],this.focalLength=400,this.position3d={x:0,y:0,z:0},this.rotation3d={x:0,y:0,z:0}};i.constructor=i,i.prototype.addChild=function(t){t.position3d||(t.position3d={x:0,y:0,z:0}),t.anchor.set(.5),this.view.addChild(t),this.children.push(t)},i.prototype.update=function(){function t(t,e){return t.depth-e.depth}for(var e=void 0,n=void 0,i=void 0,o=void 0,r=void 0,s=void 0,u=void 0,a=void 0,c=void 0,f=void 0,l=void 0,h=void 0,p=Math.sin(this.rotation3d.x),d=Math.cos(this.rotation3d.x),y=Math.sin(this.rotation3d.y),v=Math.cos(this.rotation3d.y),b=Math.sin(this.rotation3d.z),x=Math.cos(this.rotation3d.z),g=0;g<this.children.length;g++){var m=this.children[g];e=m.position3d.x-this.position3d.x,n=m.position3d.y-this.position3d.y,i=m.position3d.z-this.position3d.z,o=d*n-p*i,r=p*n+d*i,u=v*r-y*e,s=y*r+v*e,a=x*s-b*o,c=b*s+x*o,f=this.focalLength/(this.focalLength+u),e=a*f,n=c*f,i=u,l=h=f*m.scaleRatio,l*=m.scaleOffset.x,h*=m.scaleOffset.y,m.scale.x=l*m.scale2d.x,m.scale.y=h*m.scale2d.y,m.depth=-i,m.position.x=e,m.position.y=n}this.view.children.sort(t)};var o=function(t){PIXI.Sprite.call(this,t),this.position3d={x:0,y:0,z:0},this.scale2d={x:1,y:1},this.scaleRatio=1,this.scaleOffset=new PIXI.Point(1,1)};o.constructor=i,o.prototype=new PIXI.Sprite,o.prototype.scaleSet=function(t,e){this.scale2d.x=t,this.scale2d.y=e},e["default"]={Container3d:i,Sprite3d:o}},function(t,e){"use strict";function n(t){var e={};return e.code=t,e.isDown=!1,e.isUp=!0,e.press=void 0,e.release=void 0,e.downHandler=function(t){t.keyCode===e.code&&(e.isUp&&e.press&&e.press(),e.isDown=!0,e.isUp=!1),t.preventDefault()},e.upHandler=function(t){t.keyCode===e.code&&(e.isDown&&e.release&&e.release(),e.isDown=!1,e.isUp=!0),t.preventDefault()},window.addEventListener("keydown",e.downHandler.bind(e),!1),window.addEventListener("keyup",e.upHandler.bind(e),!1),e}function i(t,e){var n=void 0,i=void 0,o=void 0,r=void 0,s=void 0;return n=!1,t.centerX=t.x+t.width/2,t.centerY=t.y+t.height/2,e.centerX=e.x+e.width/2,e.centerY=e.y+e.height/2,t.halfWidth=t.width/2,t.halfHeight=t.height/2,e.halfWidth=e.width/2,e.halfHeight=e.height/2,r=t.centerX-e.centerX,s=t.centerY-e.centerY,i=t.halfWidth+e.halfWidth,o=t.halfHeight+e.halfHeight,n=Math.abs(r)<i?Math.abs(s)<o:!1}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={keyboard:n,hitTest:i}},function(t,e,n){t.exports={"default":n(31),__esModule:!0}},function(t,e,n){t.exports={"default":n(32),__esModule:!0}},function(t,e,n){t.exports={"default":n(33),__esModule:!0}},function(t,e,n){t.exports={"default":n(34),__esModule:!0}},function(t,e,n){t.exports={"default":n(35),__esModule:!0}},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(22),r=i(o);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r["default"])(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){"use strict";var i=n(21)["default"],o=n(24)["default"];e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=i(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o?o(t,e):t.__proto__=e)},e.__esModule=!0},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(30),r=i(o);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,r["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";var i=n(25)["default"];e["default"]=function(t){return t&&t.constructor===i?"symbol":typeof t},e.__esModule=!0},function(t,e,n){var i=n(1);t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(1);t.exports=function(t,e,n){return i.setDesc(t,e,n)}},function(t,e,n){n(49),t.exports=n(2).Object.getPrototypeOf},function(t,e,n){n(50),t.exports=n(2).Object.setPrototypeOf},function(t,e,n){n(52),n(51),t.exports=n(2).Symbol},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(1);t.exports=function(t){var e=i.getKeys(t),n=i.getSymbols;if(n)for(var o,r=n(t),s=i.isEnum,u=0;r.length>u;)s.call(t,o=r[u++])&&e.push(o);return e}},function(t,e,n){var i=n(6),o=n(1).getNames,r={}.toString,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return o(t)}catch(e){return s.slice()}};t.exports.get=function(t){return s&&"[object Window]"==r.call(t)?u(t):o(i(t))}},function(t,e,n){var i=n(1),o=n(14);t.exports=n(11)?function(t,e,n){return i.setDesc(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(8);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(8);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(1),o=n(6);t.exports=function(t,e){for(var n,r=o(t),s=i.getKeys(r),u=s.length,a=0;u>a;)if(r[n=s[a++]]===e)return n}},function(t,e){t.exports=!0},function(t,e,n){var i=n(4),o=n(2),r=n(5);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",s)}},function(t,e,n){t.exports=n(39)},function(t,e,n){var i=n(1).getDesc,o=n(13),r=n(7),s=function(t,e){if(r(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n(9)(Function.call,i(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:s}},function(t,e,n){var i=n(1).setDesc,o=n(12),r=n(17)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){var i=n(10);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(48);n(44)("getPrototypeOf",function(t){return function(e){return t(i(e))}})},function(t,e,n){var i=n(4);i(i.S,"Object",{setPrototypeOf:n(46).set})},function(t,e){},function(t,e,n){"use strict";var i=n(1),o=n(3),r=n(12),s=n(11),u=n(4),a=n(45),c=n(5),f=n(15),l=n(47),h=n(16),p=n(17),d=n(42),y=n(38),v=n(37),b=n(41),x=n(7),g=n(6),m=n(14),w=i.getDesc,_=i.setDesc,O=i.create,S=y.get,P=o.Symbol,j=o.JSON,M=j&&j.stringify,I=!1,D=p("_hidden"),k=i.isEnum,E=f("symbol-registry"),C=f("symbols"),T="function"==typeof P,X=Object.prototype,F=s&&c(function(){return 7!=O(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=w(X,e);i&&delete X[e],_(t,e,n),i&&t!==X&&_(X,e,i)}:_,N=function(t){var e=C[t]=O(P.prototype);return e._k=t,s&&I&&F(X,t,{configurable:!0,set:function(e){r(this,D)&&r(this[D],t)&&(this[D][t]=!1),F(this,t,m(1,e))}}),e},z=function(t){return"symbol"==typeof t},Y=function(t,e,n){return n&&r(C,e)?(n.enumerable?(r(t,D)&&t[D][e]&&(t[D][e]=!1),n=O(n,{enumerable:m(0,!1)})):(r(t,D)||_(t,D,m(1,{})),t[D][e]=!0),F(t,e,n)):_(t,e,n)},L=function(t,e){x(t);for(var n,i=v(e=g(e)),o=0,r=i.length;r>o;)Y(t,n=i[o++],e[n]);return t},H=function(t,e){return void 0===e?O(t):L(O(t),e)},J=function(t){var e=k.call(this,t);return e||!r(this,t)||!r(C,t)||r(this,D)&&this[D][t]?e:!0},U=function(t,e){var n=w(t=g(t),e);return!n||!r(C,e)||r(t,D)&&t[D][e]||(n.enumerable=!0),n},W=function(t){for(var e,n=S(g(t)),i=[],o=0;n.length>o;)r(C,e=n[o++])||e==D||i.push(e);return i},A=function(t){for(var e,n=S(g(t)),i=[],o=0;n.length>o;)r(C,e=n[o++])&&i.push(C[e]);return i},q=function(t){if(void 0!==t&&!z(t)){for(var e,n,i=[t],o=1,r=arguments;r.length>o;)i.push(r[o++]);return e=i[1],"function"==typeof e&&(n=e),!n&&b(e)||(e=function(t,e){return n&&(e=n.call(this,t,e)),z(e)?void 0:e}),i[1]=e,M.apply(j,i)}},R=c(function(){var t=P();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))});T||(P=function(){if(z(this))throw TypeError("Symbol is not a constructor");return N(h(arguments.length>0?arguments[0]:void 0))},a(P.prototype,"toString",function(){return this._k}),z=function(t){return t instanceof P},i.create=H,i.isEnum=J,i.getDesc=U,i.setDesc=Y,i.setDescs=L,i.getNames=y.get=W,i.getSymbols=A,s&&!n(43)&&a(X,"propertyIsEnumerable",J,!0));var G={"for":function(t){return r(E,t+="")?E[t]:E[t]=P(t)},keyFor:function(t){return d(E,t)},useSetter:function(){I=!0},useSimple:function(){I=!1}};i.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var e=p(t);G[t]=T?e:N(e)}),I=!0,u(u.G+u.W,{Symbol:P}),u(u.S,"Symbol",G),u(u.S+u.F*!T,"Object",{create:H,defineProperty:Y,defineProperties:L,getOwnPropertyDescriptor:U,getOwnPropertyNames:W,getOwnPropertySymbols:A}),j&&u(u.S+u.F*(!T||R),"JSON",{stringify:q}),l(P,"Symbol"),l(Math,"Math",!0),l(o.JSON,"JSON",!0)},function(t,e){}]);
//# sourceMappingURL=main.js.map